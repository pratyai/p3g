decl A, B, IDX
out A
(A[0:N], B[0:N], IDX[0:N] => A[0:N]) L1 | for k = 1 to N:
    (A[IDX[k]], B[k], IDX[k] => A[IDX[k]]) T1_scatter | op(comp)