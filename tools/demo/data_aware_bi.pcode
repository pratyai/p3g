decl A, B
out A
(A[0:N-1], A[1:N], B[1:N] => A[1:N]) L1 | for k = 1 to N:
    (A[k-1], A[k], B[k] => A[k]) B1 | if B[k] > 0:
        (A[k-1], A[k] => A[k]) T1_seq | op(comp)
    (B[k] =>) .B2 | if B[k] <= 0:
        (=>) T2_skip | op(comp)